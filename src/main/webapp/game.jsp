<%@ page import="model.*" %>
<%@ page import="java.util.*" %>

<% Game game = (Game) request.getAttribute("game"); %>
<% ArrayList<Player> players= game.getPlayers(); %>  
<%Territory territory; %>
<%String color="black"; %>
<%int armies; %>

<!-- <DOCTYPE HTML> -->
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
	<link rel="stylesheet" type="text/css" href="/riskT3/style.css">
	<title>Divide and Conquer</title>
  </head>
  <body class="main">
	<div class="container">
		<div class="left">
			<table border = "1">
			<tr>
				<th> Turn Order </th>
				<th> Player </th>
				<th> # of Armies </th>
				<th> Color </th>
			</tr>

			<% for (int i=0;i<players.size(); i++) { %>
			<tr style="color:<%= players.get(i).getColor() %>">
				<td><% out.println(i+1); %></td>
				<td> <% out.println(players.get(i).getName()); %></td>
				<td> <% out.println(players.get(i).getArmiesAvailable()); %> </td>
				<td> <% out.println(players.get(i).getColor()); %> </td>
			</tr>
			<% } %>
			</table>
		</div>
    <div id="map"></div>
    <script src="http://d3lp1msu2r81bx.cloudfront.net/kjs/js/lib/kinetic-v4.5.4.min.js"></script>
    <script defer="defer">	
	
	var territoryShapes = {	'Alaska': [65.375,93.125,66.375,91.625,68.75,91.5,68.75,89.25,70,89.25,71.375,89.875,71.375,91,71.375,93,72.5,93,74.875,94.75,77,93,78.75,94,81.375,93,82,94,83.875,96.25,90.375,97.125,91.625,97.125,93,98,96.625,98.75,99.25,97.125,102.25,97.125,103.875,98.875,106.625,98.875,107.375,99.75,110.375,100.375,109.25,146.25,116.5,147.5,120.667,150.5,120.667,153.669,122.668,154.669,123.667,162.833,127.167,164,129.333,168.333,129.333,177,125.002,177,121.835,171.336,119.168,174.336,118.502,179.503,116.5,179.503,116.5,175.503,114.335,173.503,115.002,172.169,118.168,172.669,119.188,173.813,121.438,171.125,121.168,169.169,120.502,165.336,118.502,163.669,116.75,162.875,116,164.167,117.335,165.669,116.5,167.836,118.002,169.169,115.668,170.169,114.168,169.503,113.835,165.836,111.002,164.336,111.002,160.836,113.335,160.669,114.002,163.003,115.668,163.669,116.5,162.336,115.668,160.503,114.502,159.836,113.002,159.169,113.668,157.503,115.168,157.169,114.502,155.503,111.502,155.336,110.542,155.083,109.583,156.917,110.502,157.503,110.502,158.669,109.25,159.003,107.835,157.336,109.25,156.836,110.168,154.669,108.002,154.169,106.168,151.875,105.168,152.833,105.002,155.336,103.168,155.503,100.502,152.833,101.002,149.836,99.668,148.336,97.502,149.669,96.002,150.836,95.502,148.836,94.502,146.669,92.168,149.003,90.668,146.669,90.835,143.836,88.835,143.169,87.002,144.003,84.835,142.125,81.668,141.003,78.438,141.875,78.5,143.688,80.502,143.169,82.604,145.003,84.668,148.336,82.604,149.003,79.835,147.5,78.168,149.836,74.335,150.003,72.668,151.003,70.168,152.833,68.002,152.833,68.335,150.169,70.335,149.503,74.668,146.003,78.002,143.836,77.668,142.125,75.002,142.125,73.002,143.503,70.502,143.669,68.835,145.669,66.835,146.169,65.668,149.169,60.668,149.669,60.668,151.875,61.502,154.003,57.835,158.169,56.625,158.917,56.625,163.583,57.835,163.003,59.835,161.003,60.835,161.836,60.668,163.169,58.155,164.816,55.835,166.336,54.25,167.25,52.835,166.836,54.002,165.503,56.335,163.836,56.335,159.003,54.335,159.669,51.002,161.503,49.835,164.336,46.502,165.003,39.002,169.503,32.335,171.503,28.668,171.503,28.668,169.503,35.002,166.669,36.502,166.836,37.335,165.003,41.502,164.169,44.502,162.669,45.668,159.503,48.835,156.503,48.002,154.669,45.835,154.336,44.002,156.003,42.502,156.169,40.835,154.003,37.835,154.003,35.668,156.503,33.668,154.336,35.502,151.875,35.502,149.003,34.502,148.169,31.335,144.169,28.668,145.003,28.668,146.503,26.835,144.836,26.835,142.917,26.835,140.836,28.335,140.669,29.502,137.169,28.168,134.376,30.335,132.836,32.168,133.503,34.168,129.003,35.668,128.336,36.335,129.836,36.668,134.376,38.502,132.836,43.168,132.336,44.668,130.669,46.335,128.669,47.002,127.336,49.168,126.336,48.335,123.836,46.835,123.836,45.168,125.336,43.168,125.669,41.335,127.336,40.502,127.169,39.168,124.336,34.502,123.836,34.168,120.836,35.668,120.669,36.002,118.003,38.002,117.169,38.168,115.669,36.668,113.003,38.835,112.336,41.502,114.003,44.835,114.003,47.002,111.836,43.333,107.5,41.333,103.167,44.75,100.833,46.833,98.5,48.917,98.583,53.083,97.083,56.75,94.5,59.333,91.917,61.75,93],
							'Northwest': [230.375,111.333,229.5,152,109.25,146.25,110.375,100.375,132.25,101.75,161,98.5,185.5,107.5,196.25,105,182.25,94.996,187.75,83.75,182.25,81.75,167.5,86.75,162.25,81.75,180.5,71.5,188.25,77.17,185.5,80.5,189.5,82.5,194.5,79,199,81.5,204.25,75.75,185.75,67.75,198.25,63.5,209.75,68,222.25,65.75,227.25,71.5,222.75,74.75,208.25,75,202.5,82.5,217.5,88,223,79.5,226.75,94.996,234.75,91,234.75,84.75,238.75,82,237.5,72.75,231.5,70,234,64.75,238.75,66.25,238.75,54.25,237.25,52.25,230.375,54,230.375,57,224.5,57.25,224.5,52.25,227,52.25,236.5,50,234.5,45.75,238.75,45.75,241.5,48.25,241.5,53.5,240.25,65.5,246.25,63.75,252.5,58.25,247.25,45.75,256.25,55,259,54,263,52.25,273.75,52,275.5,49.75,269,45.75,277,42.25,266.75,41,303.25,32.75,263,30.25,270.75,24.5,326.75,19.25,345.75,26.25,345.75,30,327.25,37.75,317.167,40.5,306.25,48.5,306.25,52.75,309.5,53.25,307.75,57.25,304.25,55.25,306.75,54.75,301,50.25,283.375,70,280.25,72.25,254.25,70,254.25,73.5,255.75,77.17,250.104,77.17,250.104,74.25,252.25,72.5,251.75,69.5,245.25,72.5,243.5,80.5,248.75,85.625,240.75,89.25,237.25,92.25,229.5,97.25,230.375,103,225.25,104.5,216.25,102.25,206.5,107,198,106.25,193.75,109.75,190,112.5,210.875,110.25,218.25,108.25],
							'Greenland': [453.833,34.333,442.333,35.667,448.083,32,445.667,30.167,434,30.167,409.667,18.167,386.667,29,375.333,25,379.167,35.667,350,39.167,339,37.833,326,47.333,311.167,53.333,318.167,54.508,312.667,58.5,299.167,60,299.167,64,307.667,64,307.167,68.5,297.667,67.167,297.667,74.833,303,76.5,309.667,76.5,316,79.667,327.667,79.667,344.833,104.167,348,104.167,351.167,109.167,350.167,113.167,344.167,110.167,341.667,113.167,350.167,116.667,347.833,121.667,344.333,119.833,344.333,117.356,340.333,117.356,341.167,120.5,343.667,121.667,348,123,342.833,127.5,345.75,147.5,347.5,143.667,349,146.667,346.833,150,347,156.333,357,162.832,360.333,167.832,365.833,168.665,369.667,166.499,372.833,156.832,380.833,146.499,384.167,135.75,397.5,135.75,411.833,125.999,414.333,125.999,437,117.356,438.5,115.002,430.167,111.999,434.833,109.332,435.5,103.332,438.5,103.165,438.5,108.332,443.667,112.165,448.167,108.832,448.5,100.832,440.833,96.832,442.833,92.665,445.667,95.499,453.833,94.332,453.833,88.832,459,86.499,455.5,80.665,458.167,72.665,455.167,64.332,459,56.832,468,47.999,476.333,41.165,455.167,41.332,433.5,41.332,438.333,38.665,449.333,39.875],
							'Alberta': [116.5,147.5,120.667,150.5,121.5,152.667,123.667,153.5,123.667,162.833,127.167,164,127.167,165.833,129.333,168.333,129.333,177,130.167,178.333,130.667,179.583,127.167,180.25,127.583,182.333,129,183.417,130.167,181.917,131.333,182.083,134.5,185.5,134.917,189.417,135.917,190.75,138.333,190.5,139.417,192.25,138.667,194.917,138.958,198.292,136.667,200.125,136.375,198.75,134.5,198.75,134.5,200.125,136.875,204.125,137.5,205.125,139,206.5,140.75,208.625,141.25,207.75,140.25,206.25,139.875,203.125,136.75,200.333,139.125,198.5,140.625,199,141.75,200.25,141.75,201.25,210.875,203.125,213.625,151.875],
							'Ontario': [213.625,151.875,238.667,152.833,237.75,154.125,237.5,157.75,240.375,159.75,241.375,163.5,242.375,167.625,245.5,168.625,248.25,171.996,252,171.996,256,175.625,259.125,175.625,260.75,178.063,263.25,178.063,267.125,179.125,269.625,177.5,271.75,178.75,271.625,181.75,271.625,183.75,270.375,186.581,273.875,190,274.375,193,276.375,194.25,278.75,191.875,279.912,192.379,279.667,194.666,276.5,196.999,275.5,216.833,276.5,218.333,279,217.333,280.667,215.5,281.5,217.333,283.167,216.833,283.333,215.167,285.167,215.167,286.833,218.5,288.5,218.5,289.334,219.667,288.5,220.125,287.646,221.521,285,221.625,280.75,221.75,279.25,222.875,278,224.875,274.875,224.875,273.25,226.375,269.5,229,267.375,228.75,265.75,230.664,262.75,229.75,262.125,227.625,264.625,225.625,265.125,223.5,265,220.875,266.875,220.25,268.625,222.75,270.375,223.5,271,221.875,269.375,219.667,269.5,216.75,265.5,216,261.25,215.25,259.75,213.75,259.625,206.875,256.984,205.234,255.594,207.156,257.125,208.375,256.5,209.75,255.5,209.75,253.25,208,252.75,206.625,254.25,206.375,255.5,207.094,256.94,205.127,253,203,250.854,204.875,248.125,205.25,246,206.25,240.785,206.87,236.875,204.5,210.875,203.5],
							'CentralAmerica': [194.244,279.333,187.661,279.333,186.178,275.626,183.661,274.333,182.744,271.75,181.161,271.167,178.661,272.667,170.494,273,167.994,274.333,165.661,274.333,161.994,271,160.244,268,147.827,267.833,148.5,271.331,150.5,273.583,152.833,274.498,156.167,283.998,159.333,285.498,160,286.331,158.833,287.664,157.333,287.664,157,291.498,159.667,293.331,163,293.331,164.333,297.664,167,299.998,169.5,299.331,171.035,296.664,169,295.331,168.333,292.831,167.5,289.664,163.5,284.998,161.167,280.164,161.833,276.331,164.5,277.498,166.167,282.998,168.333,285.831,170.167,290.831,171.833,293.331,172,295.998,175.167,298.164,175.167,299.331,173.667,299.998,174,302.498,172.667,303.331,171.833,303.998,169.5,303.998,168.833,303.998,171.035,308.498,175,307.664,177.833,308.498,178.833,311.331,181.5,312.831,185.167,312.831,187,315.998,190.333,315.998,192.833,318.331,194.244,320.664,196.667,320.664,202.833,325.831,204,334.827,205.333,338.661,204.167,340.161,208.167,344.827,208.167,348.661,211.5,350.827,211.5,351.994,214.5,351.994,215.667,350.494,219.167,350.827,220.5,348.994,223,348.827,222,345.827,220.833,345.494,216.5,346.827,213.372,346.49,209.986,343.008,213.333,338.494,217.5,337.494,217.667,334.994,221,333.827,223,330.661,220.667,325.994,216.833,326.994,216.167,324.311,219,322.994,219.754,321.379,222.333,321.161,227.5,314.661,227.5,311.661,225,311.828,223.667,309.914,221.167,308.661,217,308.828,213.167,311.994,210.167,311.994,207.167,309.914,204.167,312.161,202.333,309.914,198.833,303.161,197.333,300.994,198.167,299.828,197.333,294.5,197.667,291.661,198.667,289.661,199.162,285.079,196.167,283.661],
							'EasternCanada': [293.333,169.293,291,161.333,289.334,157.999,293.333,157.999,293.333,155.636,297.667,150.793,297.667,147.5,296.333,144.998,297.667,141.333,300.333,144.998,305,144.998,309.667,144.998,311,147.5,318.667,152.833,318.667,155.313,314.667,155.636,321.333,164.167,326.667,162.666,331,155.636,331,153.998,337.25,150.793,337.25,156.999,339,164.167,339,171.601,342.333,178.063,345.75,179.5,347.667,181.666,345.75,183.666,345.75,185.999,350.667,185.999,354.333,191.27,348,193.521,351,197.333,356.333,195.665,356.333,197.333,352.667,199.667,353.667,202.636,356.333,202.636,358.333,205.666,360.333,210.333,353.667,215.666,352.667,211.666,354.333,208.625,345.75,212.333,348.333,208.625,341,209.999,338.667,204.125,340.333,204.125,343,206.333,345.75,202.636,345.75,198.917,349,198.917,345.75,194.666,340.667,195.665,338.667,199.667,332.667,199.667,329.333,202.636,330.75,203.375,336.25,204.125,334.125,206.875,329.875,206,328,202.75,325.5,201.25,319.625,200.625,316,203.375,311.625,204.125,308.75,205.5,309,208,314.375,207.25,315.375,206.25,317.167,206.625,318.5,204.125,320,202.75,327.25,206.625,327.125,208.875,323.25,208.875,322,210.75,324.834,211.25,326.375,212.25,325.375,213.772,324.834,215.666,326.875,218.75,329.375,218.75,330.25,215.875,333.125,216,334.25,218.75,334,220.125,325.875,224.375,323,227.375,319.75,230.664,314.5,230.664,313.875,229.375,317.167,226.25,320.125,224.625,321.5,223.875,320.375,222.375,316,223.375,314.5,223.503,317.167,219.833,317.167,217.625,316.25,215.875,317.167,213.5,316.167,211.667,315,212.167,313.5,210,312.167,210,310.667,212.167,307.167,212.5,305.834,213.667,305.834,217.167,302.646,219.775,298.5,218.5,296.167,221,293.167,221,290.834,219.833,289.334,219.667,288.5,218.5,286.833,218.5,285.167,215.167,283.333,215.167,283.167,216.833,281.5,217.333,280.667,215.5,276.5,218.333,275.5,216.833,276.5,196.999,279.667,194.666,279.875,191.27,281.875,188.25,279.875,179.5,280.75,177.5,283.375,177.625,285.5,177.75,286.625,175.875,290.625,174.375],							'WestUS': [230.375,204.125,228.25,243.75,211.125,244.5,209.125,254,202.189,253.989,201.667,257,200,259.333,200,264.333,197.875,267.375,193,268.667,193.163,270.805,191.333,272,194.5,275.25,194.25,279.333,187.667,279.333,186.184,275.626,183.667,274.333,182.75,271.75,181.167,271.167,178.667,272.667,170.5,273,168,274.333,165.667,274.333,162,271,160.25,268,147.833,267.833,145,261.667,142.917,258.417,140.333,253.333,139.608,247.258,138.083,244.167,138.083,238.25,137.667,231,139.083,222.417,139.75,215.25,141.292,210.833,140.542,208.542,139.125,207.375,134.125,200.583,134.292,198.917,136.125,199.167,140.333,204.208,141.417,207.292,140.792,208.458,141.5,210.583,144.167,210,144.917,208.167,142.083,201.667],
							'EastUS': [259.25,273.75,258.125,275.375,260.25,280.5,260.375,285.375,257.25,293,255.5,295.25,256,300,258.25,300,262.5,300,264.875,298.375,268.125,298.75,267.875,302.375,271,303.875,277.625,305.75,280.375,307.75,283.875,309.375,288.75,309.375,291.375,310.625,294,313.75,297.75,314.375,298.625,316.25,300.875,317.5,301,319.125,298.625,320.25,297.125,318.75,293.5,318.5,288.75,317.75,283.75,317.625,279.625,318.75,277.125,317.625,274,318.625,272.625,320.25,269,320.25,264.75,315.125,264.625,313.875,269.25,313.75,270.625,315.375,271.125,316.625,272.375,317.75,276.25,316.5,275.5,312.75,276.375,310.5,274.875,309.914,272.5,309.914,269.5,310.5,266.25,308.625,266.375,306.25,265.125,306.25,260.875,306.25,256.75,306.25,255.25,303.5,252.375,303.5,252.25,302.125,253.625,300.5,255.25,300.5,254.25,295.5,252.25,293.875,251.25,289.25,251.5,284,250.104,282.875,250.625,280.875,251.5,277.375,250.625,275.625,248.375,276,245.625,278.25,243.5,277.25,240.75,274.875,233.375,275.25,230.375,275.375,232.625,279.333,232.25,281.125,229.125,279.333,225.5,276.75,217,277.333,211.5,277,208.167,279.333,205.5,279.333,202.667,282.5,200.5,285,197.667,285.167,194.5,282.333,194.25,279.333,194.5,275.25,191.333,272,193.163,270.805,193,268.667,197.875,267.375,200,264.333,200,259.333,201.667,257,202.189,253.989,209.125,254,211.125,244.5,228.25,243.75,230.375,204.125,237.667,204.125,241.5,207.5,241.5,208.667,239,209.333,238,211.833,241.5,212.667,243.5,212.5,244.334,211.333,246.334,212.167,248.834,211.167,248.834,209.333,252.167,210,252.167,213.5,255.5,212.833,257.667,214.167,253.834,215.167,253.667,217,251.334,217.5,251.667,219,248.834,220.667,248.5,224.833,245.834,228.667,247.167,232.167,249.334,233.333,250.334,231.833,252.834,231.5,252.667,228.667,251.5,227.667,252.834,226.333,253.667,221.833,256.834,221.333,256.5,218.667,260.5,217.833,261.834,219.167,261.834,220.5,259,221,259,224,260.834,227.167,260.834,230,261.834,230.667,261.834,231.333,259.334,231.167,259.334,233.167,261.834,235.167,265.834,234.167,265.834,232.167,270.167,232.333,271,231.167,272.834,230.5,274,228.333,277.5,227.667,277.5,226.833,281.667,226.667,281.667,223.333,283.5,222.667,287.167,222,289.334,219.833,290.834,219.833,293.167,221,296.167,221,298.5,218.5,302.167,220.167,305.834,217.167,305.834,213.667,307.167,212.5,310.667,212.167,312.167,210,313.5,210,315,212.167,316.167,211.667,317.167,213.5,316,216.667,317.167,218.333,317.167,219.833,315.167,220.833,314.334,224.167,310,223.667,309.334,225.5,307,227.333,304,227.5,303,229.333,300.5,231.667,298.834,232,298.5,235.5,296.334,237.833,291.667,238.5,289.834,241.729,287.667,241.729,285.167,244,283.667,245.5,280.334,247.667,279.667,249.333,280.667,252.833,280.667,255.5,277.667,256,275.834,256.167,275.667,258.167,272.834,258.5,270.834,259.667,269,260.667,266.334,263.167,263,264.667,261.667,267.833,260,270.167],
							'Arawak': [2,2,2,4,4,4,4,2],
							'Kariri': [2,2,2,4,4,4,4,2],
							'Baniva': [2,2,2,4,4,4,4,2],
							'Ika': [2,2,2,4,4,4,4,2],
							'Sweden': [470.333,122,474.667,109.333,479.333,106.667,477.417,102.333,482,97.333,486.292,99.333,486.292,95.667,489.333,93.416,493.333,96.667,492.667,93.416,494.333,91.045,498.962,91.045,496,85.625,502.208,84.333,506,88.333,506.333,84.333,508,85.625,510.333,82.333,514.667,81,512.833,85.625,514.667,87,516.667,83,521,83.333,528.667,63,526.334,56.333,526.334,54.875,524,53,521.667,54.875,518.333,48.667,520.333,45.667,526.334,48,528.667,50.333,533,50,529.667,45.667,533,45.667,536,49,536,43.689,539.667,43.689,543,39.667,548,41.667,548,43.689,552.667,43.689,552.667,47.667,552.667,50.667,547.333,51,546.667,48,545.25,45.667,541.667,43.689,539.667,46,540,49.333,543.333,50,540.667,53.333,542.333,54.875,547,54.875,550,54.875,549.333,59.333,545.25,59.333,545.25,61.667,541.333,61.333,542.667,58,540,56.333,536.667,56.667,533.667,58.333,530.667,62,523,85.625,526.334,88,523.333,93.416,525.333,93.416,523.667,105,524.694,119.11,527.328,135.154,526.922,144.193,521.5,157.832,521,162.838,518.333,162.838,515.667,161.665,511.5,161.665,509,162.838,498.962,163.665,497.667,160.165,497.833,154.332,498.962,150.665,498.167,145.498,506.333,134.998,508.167,126.332,505.333,126.998,501.5,126.998,498.962,133.998,494.167,142.125,488.167,148.665,487.667,157.998,491.833,163.665,489.333,166.165,489.667,168.665,486,169.498,487.667,173.665,484,175.832,482.5,180.832,483.333,184.998,487.833,187.665,488.833,185.332,490.667,187.665,489.667,190.665,488.167,192.208,485.333,192.208,484.667,193.832,481.333,193.832,481.5,191.165,483,189.832,484.667,190.332,487,190.498,487.167,188.998,481.5,186.395,480.5,188.832,478.167,189.998,478.167,192.208,474.833,192.208,469.667,195.665,469.667,192.208,474.5,188.165,469.667,179.5,468.667,171.601,465.667,167.832,463.833,167.832,462.333,175.332,458.833,175.165,450.5,169.665,446.833,152.833,448.667,150.665,451.5,147.832,449.667,145.665,453,143.998,456.167,145.665,457.333,139.998,458.833,139.832,459.833,134.832,463.667,134.665,469.667,127.998],
							'Britain': [417.25,228.833,426.75,226.25,434.25,225,441.25,221.375,440.063,219.5,444.5,216.75,444.5,212.5,440.063,212.5,440.063,210,440.063,201.25,434.5,194.838,433.25,190,438.875,182,435.25,179,432.75,182.25,430.875,179,435.25,173.25,432,170.5,426.25,173.75,426.5,179,424.25,178.063,423.064,175.75,420.5,178.063,422,179,423.064,179,426,180.5,423.064,183.25,425.5,186.395,423.064,194,425,197.75,423.064,206.5,421,204.125,423.064,199.667,419,196.75,416,193.75,412.5,194.838,410.75,194.838,410.75,201.25,408.75,204.125,408.75,200.75,404.25,200.75,404.25,204.125,406.067,204.125,407.75,205.25,407.75,208.625,408.75,210.25,408.5,213.75,404.25,215.75,406.067,220,408,221.375,413,218.25,419,218.25,424.375,221.375,421,221.375,415,226.75],
							'Germany': [464.5,179.5,462,183.75,457.333,187.5,457.333,196.5,459.167,202.636,456.25,206.25,453.5,206.25,453.5,211.25,448.5,213.5,448.5,217.5,444.5,220.5,457.333,235.5,466.833,239.5,476.667,236.875,480,232,486.167,232.75,489,236.333,486.167,242.5,487.333,246.666,492.264,248.045,500,245.923,505.5,230.664,510.333,216.5,507.25,204.125,496,196.5,494.25,200.75,493.25,196,486.167,196.25,481.25,202.636,477.417,196.75,475.5,199.667,470,199.667,464.5,199.667,466.25,194.838,467.25,188,466.75,183.5],
							'Ukraine': [592.333,107.336,592.333,111.669,588.666,111.669,581.532,117.833,575.834,121.003,574.333,115.002,577.666,110.669,574.333,107.003,568.333,108.336,569.666,115.002,573,122.336,566.666,128.669,564,126.003,560.333,128.669,562,135.75,554.083,132.336,545.25,135.75,545.25,128.336,535.333,119.336,537.333,115.002,541.333,117.356,549.666,117.356,556.666,120.003,561.666,115.002,559,108.003,545.25,99.336,535.333,93.416,533.333,91.045,524.667,98.838,523.333,112.838,527.167,130.504,527.57,142.125,523.333,155.636,521,162.838,524.666,165.671,521,168.665,512.833,170.839,504.5,169.293,510.333,177.507,507.333,183.671,504.5,180.337,500.479,180.337,500,186.395,496,189.671,498.962,194.838,508,206.337,510.333,216.5,505.775,228.833,516.825,232.041,521.334,249.167,526.334,253,528.666,250.318,526.334,241.671,532,244.209,531.333,246.167,530,248.5,532.333,250.318,533.5,248.5,532.5,247.521,533,244.667,534.833,247.521,539.333,247.541,536.833,251.167,542.167,254.333,548.167,250.318,544.833,244,555.667,242.667,555.5,246.667,551.667,250.318,555,256,565.333,261.5,567.126,273.5,574.351,280.659,581.532,288.327,588.833,284.833,592.667,276,584.167,273.5,586.25,263.063,580.25,257.896,583.5,254.5,587.199,240.16,581.532,228.834,585.117,218.713,594.699,215.827,614.308,211.334,625.5,213.75,636.822,208.375,640.032,198.75,632.414,186.395,634.604,178.876,630.104,170.715,632.83,167.229,633.325,143.211,629.604,134,631.141,124.494,638.252,118.5,639.394,111.463,638.252,102.669,624.333,98.669,619.666,98.669,617.333,96.003,619.333,93.416,613.333,89.003,611.333,95.836,614.333,95.836,619.333,102.669,614.333,106.003,608.666,106.003,602.333,106.003,606,102.875,604.625,100.5,600.25,84.5,595.5,76.5,592.625,74.125,594,71.75,596.875,72.375,614.625,57,613.125,54.875,603.375,57.375,589.875,66.125,591.875,71.75,592.875,71.875,591.625,73.375,589.75,70.875,586.875,72.25,587.125,79.875,591,83.5,599.75,85.25,604,100.625,598.5,104.75],
							'Spain': [440.063,274.793,438.875,288.793,432.333,298.264,419,303,412.333,299.793,406.067,298.264,402,287.452,406.067,284.127,406.067,269.46,404.333,266.792,409.667,261.313,415.667,262.188,423.064,259.127,426.667,246.666,428.333,238.25,421,238.25,427,233.127,434.667,232.127,433.333,227.958,440.063,229.789,440.063,224.46,444.5,221.375,456.625,231.75,457,239,452.375,246.75,454.75,250.375,457.333,263.46,455.333,264.793,447.333,263.46],
							'RomanEmpire': [526.334,253,521.334,249.167,517.102,233.092,512.833,230.664,506.75,230.664,502.45,239.125,502.208,245,491.25,248.045,486.25,247.541,486.25,240.5,488.558,237.297,486.167,232.75,480,232,477.417,237.75,468.237,239.125,459.167,236.272,455.75,241.095,452.88,247.521,457.082,262.188,462.75,259.75,465.25,259.25,466.75,263.75,466.75,267.667,464.25,267.833,461.75,266.5,461,267.833,460.75,272.75,461.75,272.75,461.75,275.25,459.167,275.25,459.167,281,452.88,279.333,452.88,277.75,450,279.333,450,282,448.5,282,446.25,282,446.25,285.5,447.333,286.75,449.25,285.25,451.25,283.25,454,282.75,453.75,281.5,460.25,283.5,464,283.5,464.25,279.333,463,275.25,463,272.75,465.25,271,465.5,269.25,469.5,267.833,478.5,278.25,484.25,286.75,483.5,288.327,483.5,293,481,293,476.333,293,474.75,294.25,477.417,296.25,479,299.139,482,299.139,483.5,296.75,481.75,295,484,295,487.75,290.25,489.75,288.327,487.5,284.25,489.25,281.75,491,283.5,493.25,286,496,284.75,494,280.75,491.75,276,483.75,267.833,477.417,262.188,473.25,251.5,477.417,251.75,482.75,258.25,492.75,273.25,496,279.333,500,288.327,500.479,296.5,504.5,301.5,506,303,504.5,303.75,504.5,306,507,308.5,510.333,308.5,516,309.63,518.5,307.5,517.75,304.75,512.833,302.833,510.333,304,508,303,506,300.5,507.25,297.5,510.333,290.75,505.75,285.75,505.75,281.5,508.5,282,510.333,285.75,511.75,285.25,510.333,281.5,512.833,279.333,520.25,265.75,523.5,262.188,521.75,259.5],
							'Egypt': [2,2,2,4,4,4,4,2],
							'Dinka': [2,2,2,4,4,4,4,2],
							'Xhosa': [2,2,2,4,4,4,4,2],
							'Ngbandi': [456.5,459.667,457.5,460.667,458.666,459.5,459.666,459.5,459.833,460.667,461.166,460.667,462.5,459.5,465.166,459.667,468.666,460,470.666,461.834,472.333,461.834,474.5,459.334,476.5,457.5,476.5,448,473.5,444.334,474.833,442.5,474.833,440.334,477.5,439.834,480,436.5,482.333,436.167,484.166,435.334,484.166,434,486.666,433.5,486.666,430.5,490.5,430.667,491.833,427.5,497.833,427,498.961,423.667,501,421.5,504.5,422.5,504.5,424,502.208,427.5,504.5,431.75,507,434.5,509.25,434.25,509.25,435,510.75,440.5,514.25,443.75,514.25,448.75,516.5,451.25,518.75,447.25,520.75,449.5,523,452.502,526,452.502,531,454.801,533.75,453.75,537.25,454.801,537.25,456.75,533.25,461.834,531.75,466,527.75,467.75,525.75,470.5,522.5,472.836,522.5,474.75,519.25,477.25,520,480.5,518.75,483.25,516.75,485.25,516.5,492.75,517,497.5,518,501,514.5,506.25,512.5,507.5,512.25,510.25,514,514,515,519.75,514,521.5,511,521.5,509.25,518.75,507.5,519.5,506,517,503.25,517.5,500,515.25,496.875,514.5,496.875,515.75,494,514.5,491.75,513.75,491.5,509.003,494,507,492.75,505.75,491.75,501.5,490.5,498.75,484.25,497.5,481.75,500.5,480.25,499.5,477.75,498.25,477.75,493.25,474.75,492,469,491.25,467.5,488,459.167,488.25,449.25,472.836,450.75,471.5,452,469.75,455.25,466.75],
							'Sakalava': [2,2,2,4,4,4,4,2],
							'Kurdish': [2,2,2,4,4,4,4,2],
							'Pashtun': [2,2,2,4,4,4,4,2],
							'Buryats': [2,2,2,4,4,4,4,2],
							'Puyuma': [2,2,2,4,4,4,4,2],
							'Seediq': [2,2,2,4,4,4,4,2],
							'Khakas': [2,2,2,4,4,4,4,2],
							'China': [2,2,2,4,4,4,4,2],
							'MiddleEast': [2,2,2,4,4,4,4,2],
							'India': [2,2,2,4,4,4,4,2],
							'Korea': [2,2,2,4,4,4,4,2],
							'Tuvans': [2,2,2,4,4,4,4,2],
							'Singapore': [2,2,2,4,4,4,4,2],
							'NewZealand': [2,2,2,4,4,4,4,2],
							'WesternAustralia': [2,2,2,4,4,4,4,2],
							'EasternAustralia': [2,2,2,4,4,4,4,2],
							
							
							}
	var territoryShapesKeys = Object.keys(territoryShapes);
	
      function writeMessage(messageLayer, message) {
        var context = messageLayer.getContext();
        messageLayer.clear();
        context.font = '18pt Calibri';
        context.fillStyle = 'black';
        context.fillText(message, 10, 25);
      }

	  //North America
	  var Alaska = [65.375,93.125,66.375,91.625,68.75,91.5,68.75,89.25,70,89.25,71.375,89.875,71.375,91,71.375,93,72.5,93,74.875,94.75,77,93,78.75,94,81.375,93,82,94,83.875,96.25,90.375,97.125,91.625,97.125,93,98,96.625,98.75,99.25,97.125,102.25,97.125,103.875,98.875,106.625,98.875,107.375,99.75,110.375,100.375,109.25,146.25,116.5,147.5,120.667,150.5,120.667,153.669,122.668,154.669,123.667,162.833,127.167,164,129.333,168.333,129.333,177,125.002,177,121.835,171.336,119.168,174.336,118.502,179.503,116.5,179.503,116.5,175.503,114.335,173.503,115.002,172.169,118.168,172.669,119.188,173.813,121.438,171.125,121.168,169.169,120.502,165.336,118.502,163.669,116.75,162.875,116,164.167,117.335,165.669,116.5,167.836,118.002,169.169,115.668,170.169,114.168,169.503,113.835,165.836,111.002,164.336,111.002,160.836,113.335,160.669,114.002,163.003,115.668,163.669,116.5,162.336,115.668,160.503,114.502,159.836,113.002,159.169,113.668,157.503,115.168,157.169,114.502,155.503,111.502,155.336,110.542,155.083,109.583,156.917,110.502,157.503,110.502,158.669,109.25,159.003,107.835,157.336,109.25,156.836,110.168,154.669,108.002,154.169,106.168,151.875,105.168,152.833,105.002,155.336,103.168,155.503,100.502,152.833,101.002,149.836,99.668,148.336,97.502,149.669,96.002,150.836,95.502,148.836,94.502,146.669,92.168,149.003,90.668,146.669,90.835,143.836,88.835,143.169,87.002,144.003,84.835,142.125,81.668,141.003,78.438,141.875,78.5,143.688,80.502,143.169,82.604,145.003,84.668,148.336,82.604,149.003,79.835,147.5,78.168,149.836,74.335,150.003,72.668,151.003,70.168,152.833,68.002,152.833,68.335,150.169,70.335,149.503,74.668,146.003,78.002,143.836,77.668,142.125,75.002,142.125,73.002,143.503,70.502,143.669,68.835,145.669,66.835,146.169,65.668,149.169,60.668,149.669,60.668,151.875,61.502,154.003,57.835,158.169,56.625,158.917,56.625,163.583,57.835,163.003,59.835,161.003,60.835,161.836,60.668,163.169,58.155,164.816,55.835,166.336,54.25,167.25,52.835,166.836,54.002,165.503,56.335,163.836,56.335,159.003,54.335,159.669,51.002,161.503,49.835,164.336,46.502,165.003,39.002,169.503,32.335,171.503,28.668,171.503,28.668,169.503,35.002,166.669,36.502,166.836,37.335,165.003,41.502,164.169,44.502,162.669,45.668,159.503,48.835,156.503,48.002,154.669,45.835,154.336,44.002,156.003,42.502,156.169,40.835,154.003,37.835,154.003,35.668,156.503,33.668,154.336,35.502,151.875,35.502,149.003,34.502,148.169,31.335,144.169,28.668,145.003,28.668,146.503,26.835,144.836,26.835,142.917,26.835,140.836,28.335,140.669,29.502,137.169,28.168,134.376,30.335,132.836,32.168,133.503,34.168,129.003,35.668,128.336,36.335,129.836,36.668,134.376,38.502,132.836,43.168,132.336,44.668,130.669,46.335,128.669,47.002,127.336,49.168,126.336,48.335,123.836,46.835,123.836,45.168,125.336,43.168,125.669,41.335,127.336,40.502,127.169,39.168,124.336,34.502,123.836,34.168,120.836,35.668,120.669,36.002,118.003,38.002,117.169,38.168,115.669,36.668,113.003,38.835,112.336,41.502,114.003,44.835,114.003,47.002,111.836,43.333,107.5,41.333,103.167,44.75,100.833,46.833,98.5,48.917,98.583,53.083,97.083,56.75,94.5,59.333,91.917,61.75,93];
	  var Northwest = [230.375,111.333,229.5,152,109.25,146.25,110.375,100.375,132.25,101.75,161,98.5,185.5,107.5,196.25,105,182.25,94.996,187.75,83.75,182.25,81.75,167.5,86.75,162.25,81.75,180.5,71.5,188.25,77.17,185.5,80.5,189.5,82.5,194.5,79,199,81.5,204.25,75.75,185.75,67.75,198.25,63.5,209.75,68,222.25,65.75,227.25,71.5,222.75,74.75,208.25,75,202.5,82.5,217.5,88,223,79.5,226.75,94.996,234.75,91,234.75,84.75,238.75,82,237.5,72.75,231.5,70,234,64.75,238.75,66.25,238.75,54.25,237.25,52.25,230.375,54,230.375,57,224.5,57.25,224.5,52.25,227,52.25,236.5,50,234.5,45.75,238.75,45.75,241.5,48.25,241.5,53.5,240.25,65.5,246.25,63.75,252.5,58.25,247.25,45.75,256.25,55,259,54,263,52.25,273.75,52,275.5,49.75,269,45.75,277,42.25,266.75,41,303.25,32.75,263,30.25,270.75,24.5,326.75,19.25,345.75,26.25,345.75,30,327.25,37.75,317.167,40.5,306.25,48.5,306.25,52.75,309.5,53.25,307.75,57.25,304.25,55.25,306.75,54.75,301,50.25,283.375,70,280.25,72.25,254.25,70,254.25,73.5,255.75,77.17,250.104,77.17,250.104,74.25,252.25,72.5,251.75,69.5,245.25,72.5,243.5,80.5,248.75,85.625,240.75,89.25,237.25,92.25,229.5,97.25,230.375,103,225.25,104.5,216.25,102.25,206.5,107,198,106.25,193.75,109.75,190,112.5,210.875,110.25,218.25,108.25];
	  var Greenland = [453.833,34.333,442.333,35.667,448.083,32,445.667,30.167,434,30.167,409.667,18.167,386.667,29,375.333,25,379.167,35.667,350,39.167,339,37.833,326,47.333,311.167,53.333,318.167,54.508,312.667,58.5,299.167,60,299.167,64,307.667,64,307.167,68.5,297.667,67.167,297.667,74.833,303,76.5,309.667,76.5,316,79.667,327.667,79.667,344.833,104.167,348,104.167,351.167,109.167,350.167,113.167,344.167,110.167,341.667,113.167,350.167,116.667,347.833,121.667,344.333,119.833,344.333,117.356,340.333,117.356,341.167,120.5,343.667,121.667,348,123,342.833,127.5,345.75,147.5,347.5,143.667,349,146.667,346.833,150,347,156.333,357,162.832,360.333,167.832,365.833,168.665,369.667,166.499,372.833,156.832,380.833,146.499,384.167,135.75,397.5,135.75,411.833,125.999,414.333,125.999,437,117.356,438.5,115.002,430.167,111.999,434.833,109.332,435.5,103.332,438.5,103.165,438.5,108.332,443.667,112.165,448.167,108.832,448.5,100.832,440.833,96.832,442.833,92.665,445.667,95.499,453.833,94.332,453.833,88.832,459,86.499,455.5,80.665,458.167,72.665,455.167,64.332,459,56.832,468,47.999,476.333,41.165,455.167,41.332,433.5,41.332,438.333,38.665,449.333,39.875];
	  var AlbertaPoly = [116.5,147.5,120.667,150.5,121.5,152.667,123.667,153.5,123.667,162.833,127.167,164,127.167,165.833,129.333,168.333,129.333,177,130.167,178.333,130.667,179.583,127.167,180.25,127.583,182.333,129,183.417,130.167,181.917,131.333,182.083,134.5,185.5,134.917,189.417,135.917,190.75,138.333,190.5,139.417,192.25,138.667,194.917,138.958,198.292,136.667,200.125,136.375,198.75,134.5,198.75,134.5,200.125,136.875,204.125,137.5,205.125,139,206.5,140.75,208.625,141.25,207.75,140.25,206.25,139.875,203.125,136.75,200.333,139.125,198.5,140.625,199,141.75,200.25,141.75,201.25,210.875,203.125,213.625,151.875];
	  var OntarioPoly = [213.625,151.875,238.667,152.833,237.75,154.125,237.5,157.75,240.375,159.75,241.375,163.5,242.375,167.625,245.5,168.625,248.25,171.996,252,171.996,256,175.625,259.125,175.625,260.75,178.063,263.25,178.063,267.125,179.125,269.625,177.5,271.75,178.75,271.625,181.75,271.625,183.75,270.375,186.581,273.875,190,274.375,193,276.375,194.25,278.75,191.875,279.912,192.379,279.667,194.666,276.5,196.999,275.5,216.833,276.5,218.333,279,217.333,280.667,215.5,281.5,217.333,283.167,216.833,283.333,215.167,285.167,215.167,286.833,218.5,288.5,218.5,289.334,219.667,288.5,220.125,287.646,221.521,285,221.625,280.75,221.75,279.25,222.875,278,224.875,274.875,224.875,273.25,226.375,269.5,229,267.375,228.75,265.75,230.664,262.75,229.75,262.125,227.625,264.625,225.625,265.125,223.5,265,220.875,266.875,220.25,268.625,222.75,270.375,223.5,271,221.875,269.375,219.667,269.5,216.75,265.5,216,261.25,215.25,259.75,213.75,259.625,206.875,256.984,205.234,255.594,207.156,257.125,208.375,256.5,209.75,255.5,209.75,253.25,208,252.75,206.625,254.25,206.375,255.5,207.094,256.94,205.127,253,203,250.854,204.875,248.125,205.25,246,206.25,240.785,206.87,236.875,204.5,210.875,203.5];
	  var EasternCanadaPoly = [293.333,169.293,291,161.333,289.334,157.999,293.333,157.999,293.333,155.636,297.667,150.793,297.667,147.5,296.333,144.998,297.667,141.333,300.333,144.998,305,144.998,309.667,144.998,311,147.5,318.667,152.833,318.667,155.313,314.667,155.636,321.333,164.167,326.667,162.666,331,155.636,331,153.998,337.25,150.793,337.25,156.999,339,164.167,339,171.601,342.333,178.063,345.75,179.5,347.667,181.666,345.75,183.666,345.75,185.999,350.667,185.999,354.333,191.27,348,193.521,351,197.333,356.333,195.665,356.333,197.333,352.667,199.667,353.667,202.636,356.333,202.636,358.333,205.666,360.333,210.333,353.667,215.666,352.667,211.666,354.333,208.625,345.75,212.333,348.333,208.625,341,209.999,338.667,204.125,340.333,204.125,343,206.333,345.75,202.636,345.75,198.917,349,198.917,345.75,194.666,340.667,195.665,338.667,199.667,332.667,199.667,329.333,202.636,330.75,203.375,336.25,204.125,334.125,206.875,329.875,206,328,202.75,325.5,201.25,319.625,200.625,316,203.375,311.625,204.125,308.75,205.5,309,208,314.375,207.25,315.375,206.25,317.167,206.625,318.5,204.125,320,202.75,327.25,206.625,327.125,208.875,323.25,208.875,322,210.75,324.834,211.25,326.375,212.25,325.375,213.772,324.834,215.666,326.875,218.75,329.375,218.75,330.25,215.875,333.125,216,334.25,218.75,334,220.125,325.875,224.375,323,227.375,319.75,230.664,314.5,230.664,313.875,229.375,317.167,226.25,320.125,224.625,321.5,223.875,320.375,222.375,316,223.375,314.5,223.503,317.167,219.833,317.167,217.625,316.25,215.875,317.167,213.5,316.167,211.667,315,212.167,313.5,210,312.167,210,310.667,212.167,307.167,212.5,305.834,213.667,305.834,217.167,302.646,219.775,298.5,218.5,296.167,221,293.167,221,290.834,219.833,289.334,219.667,288.5,218.5,286.833,218.5,285.167,215.167,283.333,215.167,283.167,216.833,281.5,217.333,280.667,215.5,276.5,218.333,275.5,216.833,276.5,196.999,279.667,194.666,279.875,191.27,281.875,188.25,279.875,179.5,280.75,177.5,283.375,177.625,285.5,177.75,286.625,175.875,290.625,174.375];
	  var CentralAmericaPoly = [194.244,279.333,187.661,279.333,186.178,275.626,183.661,274.333,182.744,271.75,181.161,271.167,178.661,272.667,170.494,273,167.994,274.333,165.661,274.333,161.994,271,160.244,268,147.827,267.833,148.5,271.331,150.5,273.583,152.833,274.498,156.167,283.998,159.333,285.498,160,286.331,158.833,287.664,157.333,287.664,157,291.498,159.667,293.331,163,293.331,164.333,297.664,167,299.998,169.5,299.331,171.035,296.664,169,295.331,168.333,292.831,167.5,289.664,163.5,284.998,161.167,280.164,161.833,276.331,164.5,277.498,166.167,282.998,168.333,285.831,170.167,290.831,171.833,293.331,172,295.998,175.167,298.164,175.167,299.331,173.667,299.998,174,302.498,172.667,303.331,171.833,303.998,169.5,303.998,168.833,303.998,171.035,308.498,175,307.664,177.833,308.498,178.833,311.331,181.5,312.831,185.167,312.831,187,315.998,190.333,315.998,192.833,318.331,194.244,320.664,196.667,320.664,202.833,325.831,204,334.827,205.333,338.661,204.167,340.161,208.167,344.827,208.167,348.661,211.5,350.827,211.5,351.994,214.5,351.994,215.667,350.494,219.167,350.827,220.5,348.994,223,348.827,222,345.827,220.833,345.494,216.5,346.827,213.372,346.49,209.986,343.008,213.333,338.494,217.5,337.494,217.667,334.994,221,333.827,223,330.661,220.667,325.994,216.833,326.994,216.167,324.311,219,322.994,219.754,321.379,222.333,321.161,227.5,314.661,227.5,311.661,225,311.828,223.667,309.914,221.167,308.661,217,308.828,213.167,311.994,210.167,311.994,207.167,309.914,204.167,312.161,202.333,309.914,198.833,303.161,197.333,300.994,198.167,299.828,197.333,294.5,197.667,291.661,198.667,289.661,199.162,285.079,196.167,283.661];
	  var WestUSPoly = [230.375,204.125,228.25,243.75,211.125,244.5,209.125,254,202.189,253.989,201.667,257,200,259.333,200,264.333,197.875,267.375,193,268.667,193.163,270.805,191.333,272,194.5,275.25,194.25,279.333,187.667,279.333,186.184,275.626,183.667,274.333,182.75,271.75,181.167,271.167,178.667,272.667,170.5,273,168,274.333,165.667,274.333,162,271,160.25,268,147.833,267.833,145,261.667,142.917,258.417,140.333,253.333,139.608,247.258,138.083,244.167,138.083,238.25,137.667,231,139.083,222.417,139.75,215.25,141.292,210.833,140.542,208.542,139.125,207.375,134.125,200.583,134.292,198.917,136.125,199.167,140.333,204.208,141.417,207.292,140.792,208.458,141.5,210.583,144.167,210,144.917,208.167,142.083,201.667];
	  var EastUSPoly = [259.25,273.75,258.125,275.375,260.25,280.5,260.375,285.375,257.25,293,255.5,295.25,256,300,258.25,300,262.5,300,264.875,298.375,268.125,298.75,267.875,302.375,271,303.875,277.625,305.75,280.375,307.75,283.875,309.375,288.75,309.375,291.375,310.625,294,313.75,297.75,314.375,298.625,316.25,300.875,317.5,301,319.125,298.625,320.25,297.125,318.75,293.5,318.5,288.75,317.75,283.75,317.625,279.625,318.75,277.125,317.625,274,318.625,272.625,320.25,269,320.25,264.75,315.125,264.625,313.875,269.25,313.75,270.625,315.375,271.125,316.625,272.375,317.75,276.25,316.5,275.5,312.75,276.375,310.5,274.875,309.914,272.5,309.914,269.5,310.5,266.25,308.625,266.375,306.25,265.125,306.25,260.875,306.25,256.75,306.25,255.25,303.5,252.375,303.5,252.25,302.125,253.625,300.5,255.25,300.5,254.25,295.5,252.25,293.875,251.25,289.25,251.5,284,250.104,282.875,250.625,280.875,251.5,277.375,250.625,275.625,248.375,276,245.625,278.25,243.5,277.25,240.75,274.875,233.375,275.25,230.375,275.375,232.625,279.333,232.25,281.125,229.125,279.333,225.5,276.75,217,277.333,211.5,277,208.167,279.333,205.5,279.333,202.667,282.5,200.5,285,197.667,285.167,194.5,282.333,194.25,279.333,194.5,275.25,191.333,272,193.163,270.805,193,268.667,197.875,267.375,200,264.333,200,259.333,201.667,257,202.189,253.989,209.125,254,211.125,244.5,228.25,243.75,230.375,204.125,237.667,204.125,241.5,207.5,241.5,208.667,239,209.333,238,211.833,241.5,212.667,243.5,212.5,244.334,211.333,246.334,212.167,248.834,211.167,248.834,209.333,252.167,210,252.167,213.5,255.5,212.833,257.667,214.167,253.834,215.167,253.667,217,251.334,217.5,251.667,219,248.834,220.667,248.5,224.833,245.834,228.667,247.167,232.167,249.334,233.333,250.334,231.833,252.834,231.5,252.667,228.667,251.5,227.667,252.834,226.333,253.667,221.833,256.834,221.333,256.5,218.667,260.5,217.833,261.834,219.167,261.834,220.5,259,221,259,224,260.834,227.167,260.834,230,261.834,230.667,261.834,231.333,259.334,231.167,259.334,233.167,261.834,235.167,265.834,234.167,265.834,232.167,270.167,232.333,271,231.167,272.834,230.5,274,228.333,277.5,227.667,277.5,226.833,281.667,226.667,281.667,223.333,283.5,222.667,287.167,222,289.334,219.833,290.834,219.833,293.167,221,296.167,221,298.5,218.5,302.167,220.167,305.834,217.167,305.834,213.667,307.167,212.5,310.667,212.167,312.167,210,313.5,210,315,212.167,316.167,211.667,317.167,213.5,316,216.667,317.167,218.333,317.167,219.833,315.167,220.833,314.334,224.167,310,223.667,309.334,225.5,307,227.333,304,227.5,303,229.333,300.5,231.667,298.834,232,298.5,235.5,296.334,237.833,291.667,238.5,289.834,241.729,287.667,241.729,285.167,244,283.667,245.5,280.334,247.667,279.667,249.333,280.667,252.833,280.667,255.5,277.667,256,275.834,256.167,275.667,258.167,272.834,258.5,270.834,259.667,269,260.667,266.334,263.167,263,264.667,261.667,267.833,260,270.167];
	  
	  var Arawak = [];
	  var Kariri = [];
	  var Baniva = [];
	  var Ika = [];
	  var Sweden = [470.333,122,474.667,109.333,479.333,106.667,477.417,102.333,482,97.333,486.292,99.333,486.292,95.667,489.333,93.416,493.333,96.667,492.667,93.416,494.333,91.045,498.962,91.045,496,85.625,502.208,84.333,506,88.333,506.333,84.333,508,85.625,510.333,82.333,514.667,81,512.833,85.625,514.667,87,516.667,83,521,83.333,528.667,63,526.334,56.333,526.334,54.875,524,53,521.667,54.875,518.333,48.667,520.333,45.667,526.334,48,528.667,50.333,533,50,529.667,45.667,533,45.667,536,49,536,43.689,539.667,43.689,543,39.667,548,41.667,548,43.689,552.667,43.689,552.667,47.667,552.667,50.667,547.333,51,546.667,48,545.25,45.667,541.667,43.689,539.667,46,540,49.333,543.333,50,540.667,53.333,542.333,54.875,547,54.875,550,54.875,549.333,59.333,545.25,59.333,545.25,61.667,541.333,61.333,542.667,58,540,56.333,536.667,56.667,533.667,58.333,530.667,62,523,85.625,526.334,88,523.333,93.416,525.333,93.416,523.667,105,524.694,119.11,527.328,135.154,526.922,144.193,521.5,157.832,521,162.838,518.333,162.838,515.667,161.665,511.5,161.665,509,162.838,498.962,163.665,497.667,160.165,497.833,154.332,498.962,150.665,498.167,145.498,506.333,134.998,508.167,126.332,505.333,126.998,501.5,126.998,498.962,133.998,494.167,142.125,488.167,148.665,487.667,157.998,491.833,163.665,489.333,166.165,489.667,168.665,486,169.498,487.667,173.665,484,175.832,482.5,180.832,483.333,184.998,487.833,187.665,488.833,185.332,490.667,187.665,489.667,190.665,488.167,192.208,485.333,192.208,484.667,193.832,481.333,193.832,481.5,191.165,483,189.832,484.667,190.332,487,190.498,487.167,188.998,481.5,186.395,480.5,188.832,478.167,189.998,478.167,192.208,474.833,192.208,469.667,195.665,469.667,192.208,474.5,188.165,469.667,179.5,468.667,171.601,465.667,167.832,463.833,167.832,462.333,175.332,458.833,175.165,450.5,169.665,446.833,152.833,448.667,150.665,451.5,147.832,449.667,145.665,453,143.998,456.167,145.665,457.333,139.998,458.833,139.832,459.833,134.832,463.667,134.665,469.667,127.998];
	  var Britain = [417.25,228.833,426.75,226.25,434.25,225,441.25,221.375,440.063,219.5,444.5,216.75,444.5,212.5,440.063,212.5,440.063,210,440.063,201.25,434.5,194.838,433.25,190,438.875,182,435.25,179,432.75,182.25,430.875,179,435.25,173.25,432,170.5,426.25,173.75,426.5,179,424.25,178.063,423.064,175.75,420.5,178.063,422,179,423.064,179,426,180.5,423.064,183.25,425.5,186.395,423.064,194,425,197.75,423.064,206.5,421,204.125,423.064,199.667,419,196.75,416,193.75,412.5,194.838,410.75,194.838,410.75,201.25,408.75,204.125,408.75,200.75,404.25,200.75,404.25,204.125,406.067,204.125,407.75,205.25,407.75,208.625,408.75,210.25,408.5,213.75,404.25,215.75,406.067,220,408,221.375,413,218.25,419,218.25,424.375,221.375,421,221.375,415,226.75];
	  var Germany = [464.5,179.5,462,183.75,457.333,187.5,457.333,196.5,459.167,202.636,456.25,206.25,453.5,206.25,453.5,211.25,448.5,213.5,448.5,217.5,444.5,220.5,457.333,235.5,466.833,239.5,476.667,236.875,480,232,486.167,232.75,489,236.333,486.167,242.5,487.333,246.666,492.264,248.045,500,245.923,505.5,230.664,510.333,216.5,507.25,204.125,496,196.5,494.25,200.75,493.25,196,486.167,196.25,481.25,202.636,477.417,196.75,475.5,199.667,470,199.667,464.5,199.667,466.25,194.838,467.25,188,466.75,183.5];
	  var Ukraine = [592.333,107.336,592.333,111.669,588.666,111.669,581.532,117.833,575.834,121.003,574.333,115.002,577.666,110.669,574.333,107.003,568.333,108.336,569.666,115.002,573,122.336,566.666,128.669,564,126.003,560.333,128.669,562,135.75,554.083,132.336,545.25,135.75,545.25,128.336,535.333,119.336,537.333,115.002,541.333,117.356,549.666,117.356,556.666,120.003,561.666,115.002,559,108.003,545.25,99.336,535.333,93.416,533.333,91.045,524.667,98.838,523.333,112.838,527.167,130.504,527.57,142.125,523.333,155.636,521,162.838,524.666,165.671,521,168.665,512.833,170.839,504.5,169.293,510.333,177.507,507.333,183.671,504.5,180.337,500.479,180.337,500,186.395,496,189.671,498.962,194.838,508,206.337,510.333,216.5,505.775,228.833,516.825,232.041,521.334,249.167,526.334,253,528.666,250.318,526.334,241.671,532,244.209,531.333,246.167,530,248.5,532.333,250.318,533.5,248.5,532.5,247.521,533,244.667,534.833,247.521,539.333,247.541,536.833,251.167,542.167,254.333,548.167,250.318,544.833,244,555.667,242.667,555.5,246.667,551.667,250.318,555,256,565.333,261.5,567.126,273.5,574.351,280.659,581.532,288.327,588.833,284.833,592.667,276,584.167,273.5,586.25,263.063,580.25,257.896,583.5,254.5,587.199,240.16,581.532,228.834,585.117,218.713,594.699,215.827,614.308,211.334,625.5,213.75,636.822,208.375,640.032,198.75,632.414,186.395,634.604,178.876,630.104,170.715,632.83,167.229,633.325,143.211,629.604,134,631.141,124.494,638.252,118.5,639.394,111.463,638.252,102.669,624.333,98.669,619.666,98.669,617.333,96.003,619.333,93.416,613.333,89.003,611.333,95.836,614.333,95.836,619.333,102.669,614.333,106.003,608.666,106.003,602.333,106.003,606,102.875,604.625,100.5,600.25,84.5,595.5,76.5,592.625,74.125,594,71.75,596.875,72.375,614.625,57,613.125,54.875,603.375,57.375,589.875,66.125,591.875,71.75,592.875,71.875,591.625,73.375,589.75,70.875,586.875,72.25,587.125,79.875,591,83.5,599.75,85.25,604,100.625,598.5,104.75];
	  var Spain = [440.063,274.793,438.875,288.793,432.333,298.264,419,303,412.333,299.793,406.067,298.264,402,287.452,406.067,284.127,406.067,269.46,404.333,266.792,409.667,261.313,415.667,262.188,423.064,259.127,426.667,246.666,428.333,238.25,421,238.25,427,233.127,434.667,232.127,433.333,227.958,440.063,229.789,440.063,224.46,444.5,221.375,456.625,231.75,457,239,452.375,246.75,454.75,250.375,457.333,263.46,455.333,264.793,447.333,263.46];
	  var RomanEmpire = [526.334,253,521.334,249.167,517.102,233.092,512.833,230.664,506.75,230.664,502.45,239.125,502.208,245,491.25,248.045,486.25,247.541,486.25,240.5,488.558,237.297,486.167,232.75,480,232,477.417,237.75,468.237,239.125,459.167,236.272,455.75,241.095,452.88,247.521,457.082,262.188,462.75,259.75,465.25,259.25,466.75,263.75,466.75,267.667,464.25,267.833,461.75,266.5,461,267.833,460.75,272.75,461.75,272.75,461.75,275.25,459.167,275.25,459.167,281,452.88,279.333,452.88,277.75,450,279.333,450,282,448.5,282,446.25,282,446.25,285.5,447.333,286.75,449.25,285.25,451.25,283.25,454,282.75,453.75,281.5,460.25,283.5,464,283.5,464.25,279.333,463,275.25,463,272.75,465.25,271,465.5,269.25,469.5,267.833,478.5,278.25,484.25,286.75,483.5,288.327,483.5,293,481,293,476.333,293,474.75,294.25,477.417,296.25,479,299.139,482,299.139,483.5,296.75,481.75,295,484,295,487.75,290.25,489.75,288.327,487.5,284.25,489.25,281.75,491,283.5,493.25,286,496,284.75,494,280.75,491.75,276,483.75,267.833,477.417,262.188,473.25,251.5,477.417,251.75,482.75,258.25,492.75,273.25,496,279.333,500,288.327,500.479,296.5,504.5,301.5,506,303,504.5,303.75,504.5,306,507,308.5,510.333,308.5,516,309.63,518.5,307.5,517.75,304.75,512.833,302.833,510.333,304,508,303,506,300.5,507.25,297.5,510.333,290.75,505.75,285.75,505.75,281.5,508.5,282,510.333,285.75,511.75,285.25,510.333,281.5,512.833,279.333,520.25,265.75,523.5,262.188,521.75,259.5];
	  var Egypt = [];
	  var Dinka = [];
	  var Xhosa = [];
	  var Ngbandi = [456.5,459.667,457.5,460.667,458.666,459.5,459.666,459.5,459.833,460.667,461.166,460.667,462.5,459.5,465.166,459.667,468.666,460,470.666,461.834,472.333,461.834,474.5,459.334,476.5,457.5,476.5,448,473.5,444.334,474.833,442.5,474.833,440.334,477.5,439.834,480,436.5,482.333,436.167,484.166,435.334,484.166,434,486.666,433.5,486.666,430.5,490.5,430.667,491.833,427.5,497.833,427,498.961,423.667,501,421.5,504.5,422.5,504.5,424,502.208,427.5,504.5,431.75,507,434.5,509.25,434.25,509.25,435,510.75,440.5,514.25,443.75,514.25,448.75,516.5,451.25,518.75,447.25,520.75,449.5,523,452.502,526,452.502,531,454.801,533.75,453.75,537.25,454.801,537.25,456.75,533.25,461.834,531.75,466,527.75,467.75,525.75,470.5,522.5,472.836,522.5,474.75,519.25,477.25,520,480.5,518.75,483.25,516.75,485.25,516.5,492.75,517,497.5,518,501,514.5,506.25,512.5,507.5,512.25,510.25,514,514,515,519.75,514,521.5,511,521.5,509.25,518.75,507.5,519.5,506,517,503.25,517.5,500,515.25,496.875,514.5,496.875,515.75,494,514.5,491.75,513.75,491.5,509.003,494,507,492.75,505.75,491.75,501.5,490.5,498.75,484.25,497.5,481.75,500.5,480.25,499.5,477.75,498.25,477.75,493.25,474.75,492,469,491.25,467.5,488,459.167,488.25,449.25,472.836,450.75,471.5,452,469.75,455.25,466.75];
	  var Sakalava = [];
	  var Kurdish = [];
	  var Pashtun = [];
	  var Buryats = [];
	  var Puyuma = [];
	  var Seediq = [];
	  var Khakas = [];
	  var China = [];
	  var MiddleEast = [];
	  var India = [];
	  var Korea = [];
	  var Tuvans = [];
	  var Singapore = [];
	  var NewZealand = [];
	  var WesternAustralia = [];
	  var EasternAustralia = [];
	  
	  //extras
	  var Iceland = [438.333,143.498,438.333,141.332,439.5,139.832,436.667,138.665,434.833,137.665,432.5,137.665,432.5,139.998,430.667,140.582,430.667,139.498,427.833,138.998,427.833,140.582,425.667,140.582,424.375,138.498,422.667,137.665,420.833,139.832,419.5,139.498,417.167,138.665,416.333,139.832,416.333,141.332,415,140.582,415,137.665,414.167,135.998,412.167,135.998,411.333,137.332,411.333,139.748,409.833,138.998,408.833,137.498,407.333,139.748,407.333,142.125,408.833,143.498,406.667,143.498,405.833,144.665,407.167,145.998,409.667,145.998,409.5,146.998,408.167,147.832,408.167,148.665,409.834,148.665,410.667,148.665,409,150.165,409.333,152,412.333,152,415,150.998,416.5,152,418.5,152,419.333,152.833,420.333,153.998,421.833,152.833,422.667,153.998,424.375,152,425.667,152.833,428.167,153.998,429.167,152,431.5,152,433.667,150.832,434.5,148.998,437.333,148.665,439.5,146.998,440.333,146.665,440.333,144.998,439.667,143.665];
	  
	  var stage = new Kinetic.Stage({
        container: 'map',
        width: 1000,
        height: 650
      });
      var shapesLayer = new Kinetic.Layer();
      var messageLayer = new Kinetic.Layer();	   
	  
	for (var i=0; i<territoryShapesKeys.length; i++){
		(function() {
			//territoryShapes[territoryShapesKeys[i]],
			  var currentTerritory = territoryShapesKeys[i];
			  var territoryPoly = new Kinetic.Polygon({
				points: territoryShapes[territoryShapesKeys[i]],
				fill: '#DCFFFF',
				stroke: 'black',
				strokeWidth: 1
			  });

			  territoryPoly.on('mouseover', function() {
		//	  	territoryPoly.setScale(1.1);
				territoryPoly.setFill('#8CFFFF');
				territoryPoly.draw();
				stage.draw();
				writeMessage(messageLayer, ('Mouseover ' + currentTerritory));
			  });
			  territoryPoly.on('mouseout', function() {
		//		territoryPoly.setScale(1);
				territoryPoly.setFill('#DCFFFF');
				territoryPoly.draw();
				stage.draw();
				writeMessage(messageLayer, ('Mouseout '+ currentTerritory));
			  });
			  territoryPoly.on('mousedown', function() {
				document.location.href = ('/riskT3/game/'+ currentTerritory);
				writeMessage(messageLayer, ('Mousedown '+ currentTerritory));
			  });
			  territoryPoly.on('mouseup', function() {
				writeMessage(messageLayer, ('Mouseup '+ currentTerritory));
			  });
			  
			  shapesLayer.add(territoryPoly);
			  }())
	}
	
      stage.add(shapesLayer);
      stage.add(messageLayer);
    </script>
	
		<div class="console" id="console">
			<%@ include file="/console.jsp" %>
		</div>
	</div>
  </body>
</html>